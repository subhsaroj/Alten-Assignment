<div class="summary-container-horizontal">


  <div class="summary-wrapper">

  <mat-expansion-panel [expanded]="false" class="summary-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon class="summary-icon error">directions_car</mat-icon>
        Errors Per Vehicle
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-card class="summary-card">
      <mat-card-content>

        <!-- Header -->
        <div class="summary-header">
          <span class="label header">Vehicle</span>
          <span class="value header">No. of Errors</span>
        </div>
        <mat-divider></mat-divider>

        <!-- Rows -->
        <ng-container *ngIf="errorsPerVehicle$ | async as ev">
          <div *ngFor="let item of ev | keyvalue" class="summary-row">
            <span class="label">{{ item.key }}</span>
            <span class="value">{{ item.value }}</span>
          </div>
        </ng-container>

      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>
</div>


  <!-- TOP ERROR CODES -->
  

  <div class="summary-wrapper">
  <mat-expansion-panel [expanded]="false" class="summary-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon class="summary-icon codes">bar_chart</mat-icon>
        Top Error Codes
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-card class="summary-card">
      <mat-card-content>

        <!-- Header -->
        <div class="summary-header">
          <span class="label header">Error Code</span>
          <span class="value header">Count</span>
        </div>
        <mat-divider></mat-divider>

        <!-- Rows -->
        <ng-container *ngIf="topErrorCodes$ | async as top">
          <div *ngFor="let c of top" class="summary-row">
            <span class="label">{{ c.code }}</span>
            <span class="value">{{ c.count }}</span>
          </div>
        </ng-container>

      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>

</div>

  <!-- CRITICAL VEHICLES -->
   <div class="summary-wrapper">
  <mat-expansion-panel [expanded]="false" class="summary-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon class="summary-icon critical">report</mat-icon>
        Critical Vehicles For 390 Days
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-card class="summary-card">
      <mat-card-content>

        <!-- Header -->
        <div class="summary-header">
          <span class="label header">Vehicle</span>
          <span class="value header">Status</span>
        </div>
        <mat-divider></mat-divider>

        <!-- Rows -->
        <ng-container *ngIf="criticalVehicles">
          <div *ngFor="let v of criticalVehicles" class="summary-row">
            <span class="label">{{ v }}</span>
            <span class="value status critical-status">CRITICAL</span>
          </div>
        </ng-container>

      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>
</div>
</div>
